# 2023-ACM-IEEE-TinyML-Contest

# RiceU team TinyML contest 2023 submission

This contains the submission for the 2023 ACM/IEEE TinyML Design Contest at ICCAD. 

## Description

The repository contains:
 - The training Python scripts in the folder /training
 - The weights for the trained model in tflite format: /weights
 - The C STM32 project for Keil  /stm32

## Getting Started

Explain how to get started with your project. Include any necessary steps for setup and configuration.

### Prerequisites

Python3, tensorflow 

## Usage

To train the network, run the file model_training:

```
cd Training
python model_training.py
```

## Generating the code

In CubeMX,  follow the instructions in the contest guides  [demo example](https://github.com/tinymlcontest/tinymlcontest2023_demo_example)
and [demo evaluation code](https://github.com/tinymlcontest/tinymlcontest2023_demo_evaluation) to configure the peripherals.

Then import the .tflite file, select Compression: Low, Optimization: Balanced.
Make sure to tick in advanced settings for the AI plugin, the options "Use activation buffer for input buffer" and "Use activation buffer for the output buffer" 

## Loading to STM 32

Use Keil to open the project in this repository, or alternatively, copy the files main.c , usart.c , app_x-cube-ai.c , app_x-cube-ai.h and correct the .sct file (if duplicate names for the regions for RW data are generated by CubeMX)

Keil options for compilation:

- Project -> Options for Target->Target->Code generation ->Use default compiler version 6 and Use Micro LIB (following the contest suggestions)
- Project -> Options for Target->C/C++(AC6)-> Tick One ELF Section per Function, Execute-only Code, Short enums/wchar ans Link Time Optimization
- Project -> Options for Target->C/C++(AC6)-> select Optimization:-Oz in the dropdown 

Then use the validate.py code as normal, following the contest instructions
